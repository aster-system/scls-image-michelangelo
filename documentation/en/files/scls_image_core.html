<!DOCTYPE html>
<html lang="fr">
    <head>
        <link rel="stylesheet" href="../style.css">
        <meta charset="utf-8">
        <title>SCLS Image "Michelangelo" - Core</title>
    </head>
    <body>
        <h1>SCLS Image Core</h1>
        <h2>Presentation</h2>
        <div>
            SCLS Image Core contains each very basics functions to use SCLS Image, or that can be used in a C++ program.
        </div>
        <h2>
            Content
        </h2>
        <div>
            <h3>
                Color handling
            </h3>
            <div>
                The core of SCLS Image contains of course a system to handle easily color in C++.
                For now, only 8 bits RGBA is fully supported.</br>
                There is one simple class allowing to do that, "Color".</br>
                SCLS contains some built-in general colors.
                <h4>
                    Functions
                </h4>
                <div>
                    <h5>
                        Color(unsigned char red, unsigned char green, unsigned char blue, unsigned char alpha = 255)
                    </h5>
                    <div>
                        Most basic Color constructor, taking the "red", "green", "blue" and "alpha" value.
                    </div>
                    <h5>
                        unsigned char alpha()
                    </h5>
                    <div>
                        Return the alpha value of the color.
                    </div>
                    <h5>
                        static Color black
                    </h5>
                    <div>
                        A black Color, with a RGB of (0, 0, 0).
                    </div>
                    <h5>
                        static Color blue
                    </h5>
                    <div>
                        A full blue Color, with a RGB of (0, 0, 255).
                    </div>
                    <h5>
                        unsigned char blue()
                    </h5>
                    <div>
                        Return the blue value of the color.
                    </div>
                    <h5>
                        static Color brown
                    </h5>
                    <div>
                        A brown color, with a RGB of (102, 51, 0).
                    </div>
                    <h5>
                        static Color green
                    </h5>
                    <div>
                        A full green Color, with a RGB of (0, 255, 0).
                    </div>
                    <h5>
                        unsigned char green()
                    </h5>
                    <div>
                        Return the green value of the color.
                    </div>
                    <h5>
                        static Color grey
                    </h5>
                    <div>
                        A grey Color, with a RGB of (128, 128, 128).
                    </div>
                    <h5>
                        static Color pink
                    </h5>
                    <div>
                        A pink color, with a RGB of (255, 51, 255).
                    </div>
                    <h5>
                        static Color purple
                    </h5>
                    <div>
                        A purple color, with a RGB of (77, 50, 146).
                    </div>
                    <h5>
                        static Color orange
                    </h5>
                    <div>
                        An orange color, with a RGB of (255, 128, 0).
                    </div>
                    <h5>
                        static Color red
                    </h5>
                    <div>
                        A full red Color, with a RGB of (255, 0, 0).
                    </div>
                    <h5>
                        unsigned char red()
                    </h5>
                    <div>
                        Return the red value of the color.
                    </div>
                    <h5>
                        void set_alpha(unsigned char new_alpha)
                    </h5>
                    <div>
                        Set the alpha color to "new_alpha".
                    </div>
                    <h5>
                        void set_blue(unsigned char new_blue)
                    </h5>
                    <div>
                        Set the blue color to "new_blue".
                    </div>
                    <h5>
                        void set_green(unsigned char new_green)
                    </h5>
                    <div>
                        Set the green color to "new_green".
                    </div>
                    <h5>
                        void set_red(unsigned char new_red)
                    </h5>
                    <div>
                        Set the red color to "new_red".
                    </div>
                    <h5>
                        void set_rgb(unsigned char new_red, unsigned char new_green, unsigned char new_blue)
                    </h5>
                    <div>
                        Set the RGB color to RGB("new_red", "new_green", "new_blue").
                    </div>
                    <h5>
                        void set_rgba(unsigned char new_red, unsigned char new_green, unsigned char new_blue, unsigned char new_alpha)
                    </h5>
                    <div>
                        Set the RGBA color to RGBA("new_red", "new_green", "new_blue", "new_alpha").
                    </div>
                    <h5>
                        static Color yellow
                    </h5>
                    <div>
                        A yellow Color, with a RGB of (255, 0, 0).
                    </div>
                    <h5>
                        static Color white
                    </h5>
                    <div>
                        A white Color, with a RGB of (255, 255, 255).
                    </div>
                </div>
            </div>
            <h3>
                The Image class - Base
            </h3>
            <div>
                The main class of this file is "Image". It's the core class of an Image in SCLS Image.
                It is made to be very simple and fast to use, with only some lines of code.</br>
                This section contains only the main features of the class.
                <h4>
                    Methods
                </h4>
                <div>
                    <h5>
                        Image()
                    </h5>
                    <div>
                        Most basic Image constructor, which do not do anything on the image.
                    </div>
                    <h5>
                        Image(unsigned short width, unsigned short height, Color color, unsigned int color_type = 6)
                    </h5>
                    <div>
                        Image constructor, constructing the image from scratch, with the width "width", the height "height", the type of color "color_type", and fill the image with the color "color".
                    </div>
                    <h5>
                        Image(unsigned short width, unsigned short height, unsigned char red, unsigned char green, unsigned char blue, unsigned char alpha = 255, unsigned int color_type = 6)
                    </h5>
                    <div>
                        Image constructor, constructing the image from scratch, with the width "width", the height "height", the type of color "color_type", and fill the image with the RGBA("red", "green", "blue", "alpha") color.
                    </div>
                    <h5>
                        ~Image()
                    </h5>
                    <div>
                        The most basic destructor of the Image.
                    </div>
                    <h5>
                        unsigned int bit_depht()
                    </h5>
                    <div>
                        Returns the bit depht of the image.</br>
                        If the image is in RGB or RGBA, the bit depht is the number of bit in one part of the color (red, blue...).
                    </div>
                    <h5>
                        unsigned int color_type()
                    </h5>
                    <div>
                        Returns the type of color of the image.</br>
                        For now, only the type 2 (RGB) and 6 (RGBA) are avaibles.
                    </div>
                    <h5>
                        unsigned char components()
                    </h5>
                    <div>
                        Returns the number of components in a pixel.</br>
                        If the type color is 6, returns 4, and if the type color is 2, returns 3.
                    </div>
                    <h5>
                        Bytes_Set* datas()
                    </h5>
                    <div>
                        Returns the Bytes_Set* of the datas of the image, directly in Bytes_Set*.
                    </div>
                    <h5>
                        Bytes_Set* datas_filtered()
                    </h5>
                    <div>
                        Returns a Bytes_Set* created with "new", of the datas of the image, directly in Bytes_Set*, with the filter applied.
                    </div>
                    <h5>
                        void fill(Color color)
                    </h5>
                    <div>
                        Fill the image with the Color "color".
                    </div>
                    <h5>
                        void fill(unsigned char red, unsigned char green, unsigned char blue, unsigned char alpha = 255)
                    </h5>
                    <div>
                        Fill the image with the RGBA("red", "green", "blue", "alpha") color.
                    </div>
                    <h5>
                        void force_pixel(unsigned short x, unsigned short y, Color color)
                    </h5>
                    <div>
                        Force the pixel ("x", "y") to get the Color "color".
                    </div>
                    <h5>
                        void force_pixel(unsigned short x, unsigned short y, unsigned char red, unsigned char green, unsigned char blue, unsigned char alpha = 255)
                    </h5>
                    <div>
                        Force the pixel ("x", "y") to get the RGBA("red", "green", "blue", "alpha") color.
                    </div>
                    <h5>
                        void free_memory()
                    </h5>
                    <div>
                        Free the memory from the image datas.
                    </div>
                    <h5>
                        Color pixel(unsigned short x, unsigned short y)
                    </h5>
                    <div>
                        Return the color of the pixel at the position ("x", "y").
                    </div>
                    <h5>
                        unsigned int height()
                    </h5>
                    <div>
                        Returns the height of the image.
                    </div>
                    <h5>
                        std::vector&lt;unsigned char&gt; png_signature()
                    </h5>
                    <div>
                        Returns the PNG signature in a std::vector of unsigned char.
                    </div>
                    <h5>
                        void set_pixel(unsigned short x, unsigned short y, Color color, unsigned short width = 1)
                    </h5>
                    <div>
                        Set the pixel at the position ("x", "y") at the Color "color" with a width of "width".
                    </div>
                    <h5>
                        void set_pixel(unsigned short x, unsigned short y, unsigned char red, unsigned char green, unsigned char blue, unsigned char alpha = 255, unsigned short width = 1)
                    </h5>
                    <div>
                        Set the pixel at the position ("x", "y") at the RGBA("red", "green", "blue", "alpha") color with a width of "width".
                    </div>
                    <h5>
                        void set_pixel_alpha(unsigned short x, unsigned short y, unsigned char alpha)
                    </h5>
                    <div>
                        Set the alpha pixel at the position ("x", "y") at "alpha".
                    </div>
                    <h5>
                        void set_pixel_blue(unsigned short x, unsigned short y, unsigned char blue, unsigned char alpha = 255)
                    </h5>
                    <div>
                        Set the blue pixel at the position ("x", "y") at "blue", with an alpha value "alpha".
                    </div>
                    <h5>
                        void set_pixel_green(unsigned short x, unsigned short y, unsigned char green, unsigned char alpha = 255)
                    </h5>
                    <div>
                        Set the green pixel at the position ("x", "y") at "green", with an alpha value "alpha".
                    </div>
                    <h5>
                        void set_pixel_red(unsigned short x, unsigned short y, unsigned char red, unsigned char alpha = 255)
                    </h5>
                    <div>
                        Set the red pixel at the position ("x", "y") at "red", with an alpha value "alpha".
                    </div>
                    <h5>
                        unsigned int width()
                    </h5>
                    <div>
                        Returns the width of the image.
                    </div>
                </div>
            </div>
            <h3>
                The Image class - PNG
            </h3>
            <div>
                The main class of this file is "Image". It's the core class of an Image in SCLS Image.
                It is made to be very simple and fast to use, with only some lines of code.</br>
                This section contains the needed things to encode and decode PNG.
                <h4>
                    Methods
                </h4>
                <div>
                    <h5>
                        Image(std::string path)
                    </h5>
                    <div>
                        Image constructor, constructing the image from the PNG file specified by "path".
                    </div>
                    <h5>
                        unsigned int compression_method()
                    </h5>
                    <div>
                        Returns the compression method used in the PNG encryption.
                    </div>
                    <h5>
                        Bytes_Set* data_png()
                    </h5>
                    <div>
                        Returns a Bytes_Set created with "new" corresponding to the datas of the image encoded in PNG.
                    </div>
                    <h5>
                        unsigned int filter_method()
                    </h5>
                    <div>
                        Returns the filter method use in the PNG encryption.
                    </div>
                    <h5>
                        unsigned int interlace_method()
                    </h5>
                    <div>
                        Returns the interlace method use in the PNG encryption.
                    </div>
                    <h5>
                        bool is_loadable()
                    </h5>
                    <div>
                        Returns if the image loaded is loadable or not.
                    </div>
                    <h5>
                        unsigned int physical_height_ratio()
                    </h5>
                    <div>
                        Returns the physical pixel height to real height ratio.
                    </div>
                    <h5>
                        unsigned int physical_unit()
                    </h5>
                    <div>
                        Returns the physical real unit used.</br>
                        If it is 0, the unit is unknow. If it is 1,the unit is the meter.
                    </div>
                    <h5>
                        unsigned int physical_width_ratio()
                    </h5>
                    <div>
                        Returns the physical pixel width to real width ratio.
                    </div>
                    <h5>
                        void save_png(std::string path)
                    </h5>
                    <div>
                        Save the image in PNG at the path "path".
                    </div>
                </div>
                <h4>
                    Hidden struct _PNG_Chunk
                </h4>
                <div>
                    This struct allows the program to have some datas about a PNG chunk.
                    <h5>
                        unsigned int position
                    </h5>
                    <div>
                        The position of the chunk in the file.
                    </div>
                    <h5>
                        std::string name
                    </h5>
                    <div>
                        The name of the chunk ("IDAT", "IDHR"...).
                    </div>
                    <h5>
                        unsigned int size
                    </h5>
                    <div>
                        The total size of the chunk.
                    </div>
                </div>
            </div>
            <h3>
                Compression handling
            </h3>
            <div>
                For now, SCLS does not has a compression system. So, the file contains a little part to do compression.
                It is quite important to do PNG encrypting / decrypting.</br>
                The only supported compression algorithm is deflate, only for PNG.
                <h4>
                    Functions
                </h4>
                <div>
                    <h5>
                        char* compress_binary(char* to_compress, unsigned int to_compress_size, unsigned int& output_size, unsigned int compression_level = 9)
                    </h5>
                    <div>
                        Compress the datas of size "to_compress_size" in "to_compress", and return it as a char*. The final size of the output is "output_size".</br>
                        The deflate level of compression is "compression_level".
                    </div>
                    <h5>
                        int uncompress_binary(char* to_uncompress, unsigned int to_uncompress_size, char* output, unsigned int output_size)
                    </h5>
                    <div>
                        Uncompress the datas of size "to_uncompress_size" in "to_uncompress", and put the output in the char* of size "output_size" passed by the user "ouput".</br>
                        Returns the result of the uncompression. A normal uncompression returns 1.
                    </div>
                </div>
                <h4>
                    Hiddens things
                </h4>
                <div>
                    <h5>
                        int _compress_binary(char* to_compress, unsigned int to_compress_size, char* output, unsigned int output_size, unsigned int& total_output_size, unsigned int compression_level = 9)
                    </h5>
                    <div>
                        A more low-tier compression function, compressing the datas of size "to_compress_size" in "to_compress", and put the result in the char* "output" of size "output_size".
                        The total size of the compressed datas are stored in the referenced variable of "total_output_size".</br>
                        The deflate level of compression is "compression_level".
                    </div>
                </div>
            </div>
            <h3>
                Code specification
            </h3>
            <div>
                This file define the macro "SCLS_IMAGE_CORE".
            </div>
        </div>
    </body>
</html>